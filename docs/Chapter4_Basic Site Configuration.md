# Chapter 4. 基本网站设置

---
## 4.1. 概念: 管理预览

### 管理菜单
核心Toolbar模块提供的工具条展示了Manage管理菜单，有权限的用户在左上角能看到。该菜单提供了网站的所有管理功能。菜单条目取决于站点哪些模块激活，以及当前用户的权限。

**内容**
列举和管理存在的内容，可以创建新内容。

**结构**
包含管理结构元素的链接，比如块布局，内容类型，菜单，分类等。

**外形**
管理主题和外形相关的设置。

**扩展**
管理模块的安装和卸载。

**设置**
包含设置站点特性的设置页面。

**人员**
管理用户、角色、权限。

**报告**
包含日志、升级信息、搜索信息和站点状态的其他信息。

**帮助**
列举安装的模块提供的帮助。

附录i.5介绍了如何使用管理工具条，导航到管理页面。



### 什么是上下文链接
站点有些管理和编辑功能，可以通过核心Contextual Links 模块提供的上下文菜单链接访问。
上下文菜单可以导航到和菜单相同的页面，但是不用点击层层菜单了。

上下文菜单必须激活才能可见。如果使用默认样式，一个铅笔图标表示上下文菜单存在且激活了。单击该图标，可以看到上下文链接。有两种激活提供上下文菜单的铅笔图标的方法：
  - 如果在浏览器中使用鼠标，当悬停到有上下文的链接的区域时，图标就临时出现；
  - 你可以单击顶部工具条最右端的铅笔图标（或者Edit 链接），会激活所有当前页面的上下文菜单。该突变只在有上下文链接的地方才可见。



---
## 4.2. 编辑基本站点信息

修改基本站点信息，比如站点名字，口号，默认时区。

1. 设置基本站点信息。位置：admin/config/system/site-information
2. 设置默认时区。位置： admin/config/regional/settings


---
## 4.3. 安装模块

目标：通过管理界面或者使用Drush，安装一个预先上传的核心或者第三方模块。

1. 使用管理界面。位置：扩展（admin/modules）。勾选所需模块，点击安装。
2. 使用Drush工具。现在扩展页找到模块名字（比如核心Activity Tracker 模块的名字是tracker），然后运行Drush命令（drush en tracker）；

### 深入理解
如果没有看到效果，你可能需要清楚缓存，见12.2 清理缓存。



---
## 4.4 卸载不用的模块

目标：卸载核心Search、History、Activity Tracker模块，来减少开销。

1. 使用管理菜单。位置 扩展-卸载（admin/modules/uninstall），可见能下载的模块。勾选需要卸载的部分，点击底部的卸载。然后弹出确认框，继续点击卸载。
  - 注意：如果其他模块依赖该模块，则该模块不能卸载。多选框是不可用状态。

2. 使用Drush卸载。也要在扩展-卸载中找到可以下载的模块的名字，然后运行命令卸载（drush pm-uninstall tracker）。

### 深入理解
 - 3.2 概念 额外工具
 - 12.2 清理缓存
 - 也可以按照以上流程移除评论模块，但是需要提前删除评论字段。这是6.2 删除内容类型的副作用。


 ---
 ## 4.5. 配置用户账号设置

目标：关掉用户注册用户的功能。查看和/或编辑站点生成的与用户账号相关的邮件内容。

### 步骤：
 1. 打开 设置-人员-账户设置（admin/config/people/accounts）；
 2. 在 Registration and Cancellation 中，选择Administrators only。如果以后想更改为可以注册，你可以勾选需要邮件验证。
 3. 可选。选择发送邮件的默认邮箱。
 4. 可选。编辑邮件模板，定制化自动邮件。核心软件有7个邮件模板。都可以自定义，并且3个可以通过复选框禁用：激活、阻塞、取消。

额外资源：
第七章：管理用户账户。



---
### 4.6. 配置主题
1. 外观菜单（admin/appearance）
2. 在已安装模板中，你可以看到默认是 Bartic。点击旁边的settings。
3. 可以设置前景色、背景色、字体颜色等。也可以使用颜色轮来选择颜色。
4. Logo图像设置中可以设置logo。
5. 点击底部的保存。
6. 点击 回到站点，查看前台颜色是否已经变了。

### 拓展
 - 11.4 查找主题
 - 11.5 从Drupal.org下载和安装主题
 - 如果看不到效果，可能需要清理缓存（12.2 清理缓存）
